<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Week 6ï¼šç¶œåˆæ‡‰ç”¨èˆ‡åµéŒ¯</title>
  <style>
    body { font-family: "Segoe UI", sans-serif; background: #f9f9f9; padding: 2em; }
    h1, h2 { color: #2c3e50; }
    .code-block { background: #eef; padding: 1em; border-radius: 8px; position: relative; margin-bottom: 2em; }
    .copy-btn {
      position: absolute; top: 10px; right: 10px;
      background: #3498db; color: white; border: none;
      padding: 5px 10px; border-radius: 5px; cursor: pointer;
    }
    .copy-btn:hover { background: #2980b9; }
    pre {
      margin: 0;
      padding: 20px;
      overflow-x: auto;
      font-size: 1.2em;
    }
  </style>
</head>
<body>

  <h1>ğŸ“˜ Week 6ï¼šç¶œåˆæ‡‰ç”¨èˆ‡åµéŒ¯</h1>
  <p>é‡é»ï¼šæ•´é«”æ¶æ§‹ç†è§£ã€éŒ¯èª¤åµæ¸¬<br>ç·´ç¿’:æ‰¾å‡ºä¸¦ä¿®æ­£å„ç¨®bug</p>

  <!-- Day 36 -->
  <h2>Day 1ï¼šå­¸ç”Ÿæˆç¸¾ç®¡ç†ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šè¼¸å…¥å­¸ç”Ÿè³‡æ–™ï¼Œå„²å­˜è‡³æª”æ¡ˆï¼Œä¸¦è¨ˆç®—å¹³å‡åˆ†æ•¸</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆé™£åˆ—è¶Šç•Œã€æª”æ¡ˆæœªé—œé–‰ã€å¹³å‡è¨ˆç®—éŒ¯èª¤ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

struct Student {
  char name[20];
  int score;
};

int main() {
  int n;
  printf("è«‹è¼¸å…¥å­¸ç”Ÿäººæ•¸ï¼š");
  scanf("%d", &n);

  struct Student list[100];
  for (int i = 0; i &lt;= n; i++) { // Bug 1: æ‡‰ç‚º i &lt; n
    printf("è¼¸å…¥å§“åèˆ‡åˆ†æ•¸ï¼š");
    scanf("%s %d", list[i].name, &list[i].score);
  }

  FILE *fp = fopen("grades.txt", "w");
  int total = 0;
  for (int i = 0; i &lt; n; i++) {
    fprintf(fp, "%s %d\n", list[i].name, list[i].score);
    total += list[i].score;
  }
  
  float avg = total / n; // Bug 3: æ•´æ•¸é™¤æ³•ï¼Œæ‡‰è½‰å‹
  printf("å¹³å‡åˆ†æ•¸ï¼š%.2f\n", avg);
  // Bug 2: æª”æ¡ˆæœªé—œé–‰, æ‡‰ç‚º fclose(fp);

  return 0;
}</code></pre>
</div>

  <!-- Day 37 -->
  <h2>Day 2ï¼šå•†å“åº«å­˜æŸ¥è©¢ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šè®€å–å•†å“è³‡æ–™ï¼ŒæŸ¥è©¢æŒ‡å®šå•†å“</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆæœªåˆå§‹åŒ–ã€å­—ä¸²æ¯”è¼ƒéŒ¯èª¤ã€æª”æ¡ˆé–‹å•Ÿå¤±æ•—æœªè™•ç†ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

struct Product {
  char name[20];
  int stock;
};

int main() {
  struct Product items[50];
  int count = 0;

  FILE *fp = fopen("inventory.txt", "r");
  // Bug 1: æœªæª¢æŸ¥ fp æ˜¯å¦ç‚º NULL
  while (fscanf(fp, "%s %d", items[count].name, &items[count].stock) == 2) {
    count++;
  }
  fclose(fp);

  char query[20];
  printf("è«‹è¼¸å…¥è¦æŸ¥è©¢çš„å•†å“åç¨±ï¼š");
  scanf("%s", query);

  for (int i = 0; i &lt; count; i++) {
    if (items[i].name == query) { // Bug 2: å­—ä¸²æ¯”è¼ƒéŒ¯èª¤
      printf("åº«å­˜ï¼š%d\n", items[i].stock);
    }
  }
  return 0;
}</code></pre>
</div>

  <!-- Day 38 -->
  <h2>Day 3ï¼šæˆç¸¾æ’åºç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šè¼¸å…¥åˆ†æ•¸ä¸¦ç”±é«˜è‡³ä½æ’åº</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆæŒ‡æ¨™éŒ¯èª¤ã€äº¤æ›é‚è¼¯éŒ¯èª¤ã€æœªé‡‹æ”¾è¨˜æ†¶é«”ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

void sort(int *arr, int n) {
  for (int i = 0; i &lt; n - 1; i++) {
    for (int j = i + 1; j &lt; n; j++) {
      if (arr[i] &lt; arr[j]) {
        int *temp = arr[i]; // Bug 1: æ‡‰ç‚º int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp; // Bug 2: temp æ˜¯æŒ‡æ¨™
      }
    }
  }
}

int main() {
  int n;
  printf("è«‹è¼¸å…¥åˆ†æ•¸æ•¸é‡ï¼š");
  scanf("%d", &n);

  int *scores = malloc(n * sizeof(int));
  for (int i = 0; i &lt; n; i++) {
    scanf("%d", &scores[i]);
  }

  sort(scores, n);

  for (int i = 0; i &lt; n; i++) {
    printf("%d ", scores[i]);
  }
  printf("\n");
  // Bug 3: æœªé‡‹æ”¾è¨˜æ†¶é«”, æ‡‰ç‚º free(scores);

  return 0;
}</code></pre>
</div>

  <!-- Day 39 -->
  <h2>Day 4ï¼šæˆç¸¾å‹•æ…‹å„²å­˜ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šä½¿ç”¨ malloc å„²å­˜åˆ†æ•¸ä¸¦è¨ˆç®—å¹³å‡</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆæœªæª¢æŸ¥ mallocã€è¶Šç•Œå­˜å–ã€æœªé‡‹æ”¾è¨˜æ†¶é«”ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
  int n;
  printf("è«‹è¼¸å…¥åˆ†æ•¸æ•¸é‡ï¼š");
  scanf("%d", &n);

  int *scores = malloc(n * sizeof(int));
  // Bug 1: æœªæª¢æŸ¥ scores æ˜¯å¦ç‚º NULL

  for (int i = 0; i &lt;= n; i++) { // Bug 2: æ‡‰ç‚º i &lt; n
    printf("è«‹è¼¸å…¥ç¬¬ %d ç­†åˆ†æ•¸ï¼š", i + 1);
    scanf("%d", &scores[i]);
  }

  int total = 0;
  for (int i = 0; i &lt; n; i++) {
    total += scores[i];
  }

  float avg = (float)total / n;
  printf("å¹³å‡åˆ†æ•¸ï¼š%.2f\n", avg);

  // Bug 3: æœªé‡‹æ”¾è¨˜æ†¶é«”, æ‡‰ç‚º free(scores);

  return 0;
}</code></pre>
</div>

  <!-- Day 40 -->
 <h2>Day 5ï¼šå“¡å·¥è–ªè³‡è¨ˆç®—ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šæ ¹æ“šå·¥æ™‚èˆ‡æ™‚è–ªè¨ˆç®—è–ªè³‡</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆæ¢ä»¶åˆ¤æ–·éŒ¯èª¤ã€æœªè™•ç†è² å€¼ã€æœªä½¿ç”¨å‡½æ•¸ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;

float computeSalary(int hours, float rate) {
  return hours * rate;
}

int main() {
  int hours;
  float rate;

  printf("è«‹è¼¸å…¥å·¥æ™‚èˆ‡æ™‚è–ªï¼š");
  scanf("%d %f", &hours, &rate);

  if (hours &gt;= 0 || rate &gt;= 0) { // Bug 1: æ‡‰ç‚º && åˆ¤æ–·
    float salary = hours * rate; // Bug 2: æœªä½¿ç”¨å‡½æ•¸
    printf("è–ªè³‡ç‚º %.2f å…ƒ\n", salary);
  } else {
    printf("è¼¸å…¥éŒ¯èª¤\n");
  }

  return 0;
}</code></pre>
</div>

  <!-- Day 41 -->
 <h2>Day 6ï¼šåœ–æ›¸è³‡æ–™å„²å­˜ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šå„²å­˜å¤šæœ¬æ›¸ç±è³‡æ–™ä¸¦è¼¸å‡º</p>
<p>Bug æ•¸é‡ï¼š3ï¼ˆé™£åˆ—æœªåˆå§‹åŒ–ã€çµæ§‹æ¬„ä½éŒ¯èª¤ã€è³‡æ–™éºå¤±ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;

struct Book {
  char title[30];
  int pages;
};

int main() {
  struct Book books[3];
  for (int i = 0; i &lt; 3; i++) {
    printf("è«‹è¼¸å…¥æ›¸åèˆ‡é æ•¸ï¼š");
    scanf("%s %d", books[i].title, &books[i].pages);
  }

  for (int i = 0; i &lt;= 3; i++) { // Bug 1: æ‡‰ç‚º i &lt; 3
    printf("æ›¸åï¼š%sï¼Œé æ•¸ï¼š%d\n", books[i].name, books[i].pages); // Bug 2: æ¬„ä½éŒ¯èª¤
  }

  // Bug 3: ç„¡æ³•å„²å­˜ç©ºæ ¼æ›¸åï¼Œæ‡‰ä½¿ç”¨ fgets
  return 0;
}</code></pre>
</div>

  <!-- Day 42 -->
  <h2>Day 7ï¼šç¶œåˆæœƒå“¡ç®¡ç†ç³»çµ±</h2>
<p>åŠŸèƒ½ï¼šæ–°å¢æœƒå“¡ã€æŸ¥è©¢æœƒå“¡ã€å„²å­˜æª”æ¡ˆ</p>
<p>Bug æ•¸é‡ï¼š4ï¼ˆé™£åˆ—è¶Šç•Œã€æŸ¥è©¢å¤±æ•—ã€æª”æ¡ˆæœªé—œé–‰ã€è¨˜æ†¶é«”æ´©æ¼ï¼‰</p>

<div class="code-block"><button class="copy-btn" onclick="copyCode(this)">è¤‡è£½ç¨‹å¼ç¢¼</button>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

struct Member {
  char name[20];
  int age;
};

int main() {
  struct Member *list = malloc(5 * sizeof(struct Member));
  int count = 0;

  for (int i = 0; i &lt; 6; i++) { // Bug 1: æ‡‰ç‚º i &lt; 5
    printf("è«‹è¼¸å…¥å§“åèˆ‡å¹´é½¡ï¼š");
    scanf("%s %d", list[i].name, &list[i].age);
    count++;
  }

  char query[20];
  printf("æŸ¥è©¢å§“åï¼š");
  scanf("%s", query);

  int found = 0;
  for (int i = 0; i &lt; count; i++) {
    if (strcmp(list[i].name, query) == 0) {
      printf("å¹´é½¡ï¼š%d\n", list[i].age);
      found = 1;
    }
  }
  if (found = 0) { // Bug 2: æ‡‰ç‚º ==ï¼Œéè³¦å€¼
    printf("æŸ¥ç„¡æ­¤äºº\n");
  }

  FILE *fp = fopen("members.txt", "w");
  for (int i = 0; i &lt; count; i++) {
    fprintf(fp, "%s %d\n", list[i].name, list[i].age);
  }
  // Bug 3: æª”æ¡ˆæœªé—œé–‰, æ‡‰ç‚º fclose(fp);

  // Bug 4: æœªé‡‹æ”¾è¨˜æ†¶é«”, æ‡‰ç‚º free(list);

  return 0;
}</code></pre>
</div>

  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.innerText = "å·²è¤‡è£½ï¼";
        setTimeout(() => button.innerText = "è¤‡è£½ç¨‹å¼ç¢¼", 1500);
      });
    }
  </script>

</body>
</html>     